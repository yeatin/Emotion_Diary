{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/user/Desktop/projects/Emotion_Diary/front-end/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/user/Desktop/projects/Emotion_Diary/front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/user/Desktop/projects/Emotion_Diary/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import ViewButtons from\"../components/ViewButtons\";import ViewTable from\"../components/ViewTable\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ViewContainer=function ViewContainer(){var _useState=useState({startYear:\"\",startMonth:\"\",startDay:\"\"}),_useState2=_slicedToArray(_useState,2),startTime=_useState2[0],setStartTime=_useState2[1];var _useState3=useState({endYear:\"\",endMonth:\"\",endDay:\"\"}),_useState4=_slicedToArray(_useState3,2),endTime=_useState4[0],setEndTime=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),timeRange=_useState6[0],setTimeRange=_useState6[1];var _useState7=useState(\"normal\"),_useState8=_slicedToArray(_useState7,2),viewMode=_useState8[0],setViewMode=_useState8[1];var _useState9=useState(-1),_useState10=_slicedToArray(_useState9,2),chosenType=_useState10[0],setChosenType=_useState10[1];var initialDatas=[{eventName:\"Apple\",typeId:1,yearMonthDay:\"20200530\",startTime:\"\",endTime:\"\",locationId:0,cost:50,mood:\"Happy\",country:\"Taiwan\",city:\"Taipei\",street:\"BackStreet\",building:\"\"},{eventName:\"Banana\",typeId:2,yearMonthDay:\"20210601\",startTime:\"\",endTime:\"\",locationId:1,cost:50,mood:\"Happy\",country:\"Taiwan\",city:\"Taipei\",street:\"BackStreet\",building:\"\"},{eventName:\"Candy\",typeId:3,yearMonthDay:\"20220405\",startTime:\"\",endTime:\"\",locationId:2,cost:50,mood:\"Happy\",country:\"Taiwan\",city:\"Taipei\",street:\"BackStreet\",building:\"\"},{eventName:\"Dance\",typeId:4,yearMonthDay:\"20220220\",startTime:\"\",endTime:\"\",locationId:3,cost:50,mood:\"Happy\",country:\"Taiwan\",city:\"Taipei\",street:\"BackStreet\",building:\"\"}];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),datas=_useState12[0],setDatas=_useState12[1];var _useState13=useState({}),_useState14=_slicedToArray(_useState13,2),chosenData=_useState14[0],setChosenData=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),cost=_useState16[0],setCost=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),keywordDatas=_useState18[0],setKeywordDatas=_useState18[1];var fetchDatas=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"http://localhost:5000/view\");case 3:data=_context.sent;_context.next=6;return data.json();case 6:json=_context.sent;json.forEach(function(data){for(var oldKey in data){var temp=void 0;temp=oldKey.split(\"_\");var newKey=temp[0].toLocaleLowerCase();temp.forEach(function(word,index){if(index>0){word=word[0].toUpperCase()+word.slice(1);newKey+=word;}});data[newKey]=data[oldKey];}});setDatas(json);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.log(\"err in fetching datas\",_context.t0);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function fetchDatas(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchDatas();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(ViewButtons,{startTime:startTime,setStartTime:setStartTime,endTime:endTime,setEndTime:setEndTime,setViewMode:setViewMode,setTimeRange:setTimeRange,datas:datas,chosenType:chosenType,setChosenType:setChosenType,cost:cost,setCost:setCost,setKeywordDatas:setKeywordDatas}),/*#__PURE__*/_jsx(ViewTable,{datas:datas,setDatas:setDatas,startTime:startTime,endTime:endTime,viewMode:viewMode,timeRange:timeRange,chosenData:chosenData,setChosenData:setChosenData,chosenType:chosenType,keywordDatas:keywordDatas})]});};export default ViewContainer;","map":{"version":3,"names":["useState","useEffect","ViewButtons","ViewTable","ViewContainer","startYear","startMonth","startDay","startTime","setStartTime","endYear","endMonth","endDay","endTime","setEndTime","timeRange","setTimeRange","viewMode","setViewMode","chosenType","setChosenType","initialDatas","eventName","typeId","yearMonthDay","locationId","cost","mood","country","city","street","building","datas","setDatas","chosenData","setChosenData","setCost","keywordDatas","setKeywordDatas","fetchDatas","fetch","data","json","forEach","oldKey","temp","split","newKey","toLocaleLowerCase","word","index","toUpperCase","slice","console","log"],"sources":["C:/Users/user/Desktop/projects/Emotion_Diary/front-end/src/containers/ViewPageContainer.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport ViewButtons from \"../components/ViewButtons\";\r\nimport ViewTable from \"../components/ViewTable\";\r\nconst ViewContainer = () => {\r\n    const [startTime, setStartTime] = useState({ startYear: \"\", startMonth: \"\", startDay: \"\" });\r\n    const [endTime, setEndTime] = useState({ endYear: \"\", endMonth: \"\", endDay: \"\" });\r\n    const [timeRange, setTimeRange] = useState([]);\r\n    const [viewMode, setViewMode] = useState(\"normal\");\r\n    const [chosenType, setChosenType] = useState(-1);\r\n\r\n    const initialDatas = [\r\n        {\r\n            eventName: \"Apple\",\r\n            typeId: 1,\r\n            yearMonthDay: \"20200530\",\r\n            startTime: \"\",\r\n            endTime: \"\",\r\n            locationId: 0,\r\n            cost: 50,\r\n            mood: \"Happy\",\r\n            country: \"Taiwan\",\r\n            city: \"Taipei\",\r\n            street: \"BackStreet\",\r\n            building: \"\"\r\n        },\r\n        {\r\n            eventName: \"Banana\",\r\n            typeId: 2,\r\n            yearMonthDay: \"20210601\",\r\n            startTime: \"\",\r\n            endTime: \"\",\r\n            locationId: 1,\r\n            cost: 50,\r\n            mood: \"Happy\",\r\n            country: \"Taiwan\",\r\n            city: \"Taipei\",\r\n            street: \"BackStreet\",\r\n            building: \"\"\r\n        },\r\n        {\r\n            eventName: \"Candy\",\r\n            typeId: 3,\r\n            yearMonthDay: \"20220405\",\r\n            startTime: \"\",\r\n            endTime: \"\",\r\n            locationId: 2,\r\n            cost: 50,\r\n            mood: \"Happy\",\r\n            country: \"Taiwan\",\r\n            city: \"Taipei\",\r\n            street: \"BackStreet\",\r\n            building: \"\"\r\n        },\r\n        {\r\n            eventName: \"Dance\",\r\n            typeId: 4,\r\n            yearMonthDay: \"20220220\",\r\n            startTime: \"\",\r\n            endTime: \"\",\r\n            locationId: 3,\r\n            cost: 50,\r\n            mood: \"Happy\",\r\n            country: \"Taiwan\",\r\n            city: \"Taipei\",\r\n            street: \"BackStreet\",\r\n            building: \"\"\r\n        }\r\n    ];\r\n    const [datas, setDatas] = useState([]);\r\n    const [chosenData, setChosenData] = useState({});\r\n    const [cost, setCost] = useState(null);\r\n    const [keywordDatas, setKeywordDatas] = useState([]);\r\n\r\n    const fetchDatas = async () => {\r\n        try {\r\n            const data = await fetch(\"http://localhost:5000/view\");\r\n            const json = await data.json();\r\n            json.forEach(data => {\r\n                for (let oldKey in data) {\r\n                    let temp;\r\n                    temp = oldKey.split(\"_\");\r\n                    let newKey = temp[0].toLocaleLowerCase();\r\n                    temp.forEach((word, index) => {\r\n                        if(index > 0){\r\n                            word = word[0].toUpperCase() + word.slice(1);\r\n                            newKey += word;\r\n                        }\r\n                    });\r\n                    data[newKey] = data[oldKey];\r\n                }\r\n            })\r\n            setDatas(json);\r\n        }\r\n        catch (err) {\r\n            console.log(\"err in fetching datas\", err);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchDatas();\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            <ViewButtons startTime={startTime} setStartTime={setStartTime} endTime={endTime} setEndTime={setEndTime} setViewMode={setViewMode} setTimeRange={setTimeRange} datas={datas} chosenType={chosenType} setChosenType={setChosenType} cost={cost} setCost={setCost} setKeywordDatas={setKeywordDatas} />\r\n            <ViewTable datas={datas} setDatas={setDatas} startTime={startTime} endTime={endTime} viewMode={viewMode} timeRange={timeRange} chosenData={chosenData} setChosenData={setChosenData} chosenType={chosenType} keywordDatas={keywordDatas} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ViewContainer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}