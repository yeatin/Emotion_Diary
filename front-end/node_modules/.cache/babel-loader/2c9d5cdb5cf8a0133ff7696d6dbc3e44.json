{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/user/Desktop/projects/Emotion_Diary/front-end/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/user/Desktop/projects/Emotion_Diary/front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/user/Desktop/projects/Emotion_Diary/front-end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import EditButtons from\"../components/EditButtons\";import EditTable from\"../components/EditTable\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditPageContainer=function EditPageContainer(){var initialDatas=[{eventName:\"Apple\",typeId:1,yearMonthDay:\"20200530\",startTime:\"\",endTime:\"\",locationId:0,cost:50,mood:\"Happy\",country:\"Taiwan\",city:\"Taipei\",street:\"BackStreet\",building:\"\"},{eventName:\"Banana\",typeId:2,yearMonthDay:\"20210601\",startTime:\"\",endTime:\"\",locationId:1,cost:50,mood:\"Happy\",country:\"Taiwan\",city:\"Taipei\",street:\"BackStreet\",building:\"\"},{eventName:\"Candy\",typeId:3,yearMonthDay:\"20220405\",startTime:\"\",endTime:\"\",locationId:2,cost:50,mood:\"Happy\",country:\"Taiwan\",city:\"Taipei\",street:\"BackStreet\",building:\"\"},{eventName:\"Dance\",typeId:4,yearMonthDay:\"20220220\",startTime:\"\",endTime:\"\",locationId:3,cost:50,mood:\"Happy\",country:\"Taiwan\",city:\"Taipei\",street:\"BackStreet\",building:\"\"}];var initialLocations=[{locationId:0,country:\"Taiwan\",city:\"Taipei\",street:\"BackStreet\",building:\"\"},{locationId:1,country:\"Taiwan\",city:\"Taipei\",street:\"BackStreet\",building:\"\"},{locationId:2,country:\"Taiwan\",city:\"Taipei\",street:\"BackStreet\",building:\"\"},{locationId:3,country:\"Taiwan\",city:\"Taipei\",street:\"BackStreet\",building:\"\"}];var initialTypes=[{typeId:0,typeName:\"emergency\"},{typeId:1,typeName:\"school\"},{typeId:2,typeName:\"work\"},{typeId:3,typeName:\"food\"}];var _useState=useState(\"normal\"),_useState2=_slicedToArray(_useState,2),viewMode=_useState2[0],setViewMode=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),datas=_useState4[0],setDatas=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),chosenData=_useState6[0],setChosenData=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),locations=_useState8[0],setLocations=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),types=_useState10[0],setTypes=_useState10[1];var _useState11=useState(-1),_useState12=_slicedToArray(_useState11,2),locationMax=_useState12[0],setLocationMax=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),keywordDatas=_useState14[0],setKeywordDatas=_useState14[1];var convertKeyName=function convertKeyName(json){json.forEach(function(data){for(var oldKey in data){var temp=void 0;temp=oldKey.split(\"_\");var newKey=temp[0].toLocaleLowerCase();temp.forEach(function(word,index){if(index>0){word=word[0].toUpperCase()+word.slice(1);newKey+=word;}});data[newKey]=data[oldKey];}});};var fetchDatas=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"http://localhost:5000/view\");case 3:data=_context.sent;_context.next=6;return data.json();case 6:json=_context.sent;if(!(json.errno||!json.status.includes(\"record\")&&!json.status.includes(\"success\"))){_context.next=9;break;}throw json;case 9:fetchLocations();fetchTypes();convertKeyName(json.data);setDatas(json.data);setViewMode(\"normal\");return _context.abrupt(\"return\",\"success\");case 17:_context.prev=17;_context.t0=_context[\"catch\"](0);console.log(\"err in fetching datas\",_context.t0);case 20:case\"end\":return _context.stop();}}},_callee,null,[[0,17]]);}));return function fetchDatas(){return _ref.apply(this,arguments);};}();var fetchRevise=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dataObj){var data,json;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetch(\"http://localhost:5000/revise_data\",{method:\"put\",headers:{'content-type':'application/json'},body:JSON.stringify(dataObj)});case 3:data=_context2.sent;_context2.next=6;return data.json();case 6:json=_context2.sent;if(!(json.errno||!json.status.includes(\"record\")&&!json.status.includes(\"success\"))){_context2.next=9;break;}throw json;case 9:console.log(\"fetchRevise=\",json);return _context2.abrupt(\"return\",\"success\");case 13:_context2.prev=13;_context2.t0=_context2[\"catch\"](0);console.log(\"error in fetchRevise\",_context2.t0);case 16:case\"end\":return _context2.stop();}}},_callee2,null,[[0,13]]);}));return function fetchRevise(_x){return _ref2.apply(this,arguments);};}();var fetchNew=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dataObj){var data,json;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return fetch(\"http://localhost:5000/new_data\",{method:'post',headers:{'Content-Type':'application/json'},body:JSON.stringify(dataObj)});case 3:data=_context3.sent;_context3.next=6;return data.json();case 6:json=_context3.sent;if(!(json.errno||!json.status.includes(\"record\")&&!json.status.includes(\"success\"))){_context3.next=9;break;}throw json;case 9:fetchDatas();return _context3.abrupt(\"return\",\"success\");case 13:_context3.prev=13;_context3.t0=_context3[\"catch\"](0);console.log(\"error in fetchNew\",_context3.t0);case 16:case\"end\":return _context3.stop();}}},_callee3,null,[[0,13]]);}));return function fetchNew(_x2){return _ref3.apply(this,arguments);};}();var fetchLocations=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){var data,json;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return fetch(\"http://localhost:5000/location\");case 3:data=_context4.sent;_context4.next=6;return data.json();case 6:json=_context4.sent;if(!(json.errno||!json.status.includes(\"record\")&&!json.status.includes(\"success\"))){_context4.next=9;break;}throw json;case 9:convertKeyName(json.data);setLocations(json.data);return _context4.abrupt(\"return\",\"success\");case 14:_context4.prev=14;_context4.t0=_context4[\"catch\"](0);console.log(\"error in fetchLocations\",_context4.t0);case 17:case\"end\":return _context4.stop();}}},_callee4,null,[[0,14]]);}));return function fetchLocations(){return _ref4.apply(this,arguments);};}();var fetchTypes=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(){var data,json;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return fetch(\"http://localhost:5000/type\");case 3:data=_context5.sent;_context5.next=6;return data.json();case 6:json=_context5.sent;if(!(json.errno||!json.status.includes(\"record\")&&!json.status.includes(\"success\"))){_context5.next=9;break;}throw json;case 9:convertKeyName(json.data);setTypes(json.data);return _context5.abrupt(\"return\",\"success\");case 14:_context5.prev=14;_context5.t0=_context5[\"catch\"](0);console.log(\"error in fetchTypes\",_context5.t0);case 17:case\"end\":return _context5.stop();}}},_callee5,null,[[0,14]]);}));return function fetchTypes(){return _ref5.apply(this,arguments);};}();var fetchCopy=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(dataObj){var data,json;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return fetch(\"http://localhost:5000/copy_data\",{method:'post',headers:{'Content-Type':'application/json'},body:JSON.stringify(dataObj)});case 3:data=_context6.sent;_context6.next=6;return data.json();case 6:json=_context6.sent;if(!(json.errno||!json.status.includes(\"record\")&&!json.status.includes(\"success\"))){_context6.next=9;break;}throw json;case 9:fetchDatas();return _context6.abrupt(\"return\",\"success\");case 13:_context6.prev=13;_context6.t0=_context6[\"catch\"](0);console.log(\"error in fetchCopy\",_context6.t0);case 16:case\"end\":return _context6.stop();}}},_callee6,null,[[0,13]]);}));return function fetchCopy(_x3){return _ref6.apply(this,arguments);};}();var fetchNewType=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(type){var data,json;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return fetch(\"http://localhost:5000/new_type\",{method:'post',headers:{'Content-Type':'application/json'},body:JSON.stringify({Type_id:type})});case 3:data=_context7.sent;_context7.next=6;return data.json();case 6:json=_context7.sent;if(!(json.errno||!json.status.includes(\"record\")&&!json.status.includes(\"success\"))){_context7.next=9;break;}throw json;case 9:fetchDatas();return _context7.abrupt(\"return\",\"success\");case 13:_context7.prev=13;_context7.t0=_context7[\"catch\"](0);console.log(\"error in fetchNewType\",_context7.t0);case 16:case\"end\":return _context7.stop();}}},_callee7,null,[[0,13]]);}));return function fetchNewType(_x4){return _ref7.apply(this,arguments);};}();var fetchDeleteData=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee8(dataObj){var data,json;return _regeneratorRuntime().wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.prev=0;_context8.next=3;return fetch(\"http://localhost:5000/delete_data\",{method:'delete',headers:{'Content-Type':'application/json'},body:JSON.stringify(dataObj)});case 3:data=_context8.sent;_context8.next=6;return data.json();case 6:json=_context8.sent;if(!(json.errno||!json.status.includes(\"record\")&&!json.status.includes(\"success\"))){_context8.next=9;break;}throw json;case 9:fetchDatas();return _context8.abrupt(\"return\",\"success\");case 13:_context8.prev=13;_context8.t0=_context8[\"catch\"](0);console.log(\"error in fetchCopy\",_context8.t0);case 16:case\"end\":return _context8.stop();}}},_callee8,null,[[0,13]]);}));return function fetchDeleteData(_x5){return _ref8.apply(this,arguments);};}();var fetchDeleteType=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee9(deleteTypeId){var data,json;return _regeneratorRuntime().wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.prev=0;_context9.next=3;return fetch(\"http://localhost:5000/delete_type/\".concat(deleteTypeId),{method:'delete',headers:{'Content-Type':'application/json'}});case 3:data=_context9.sent;_context9.next=6;return data.json();case 6:json=_context9.sent;if(!(json.errno||!json.status.includes(\"record\")&&!json.status.includes(\"success\"))){_context9.next=9;break;}throw json;case 9:fetchDatas();return _context9.abrupt(\"return\",\"success\");case 13:_context9.prev=13;_context9.t0=_context9[\"catch\"](0);console.log(\"error in fetchDeleteType\",_context9.t0);case 16:case\"end\":return _context9.stop();}}},_callee9,null,[[0,13]]);}));return function fetchDeleteType(_x6){return _ref9.apply(this,arguments);};}();useEffect(function(){fetchDatas();},[]);useEffect(function(){setChosenData({});},[datas]);useEffect(function(){var max=-1;locations.forEach(function(location){return max=location.locationId>max?location.locationId:max;});if(max>=0){setLocationMax(max);}},[locations]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(EditButtons,{datas:datas,chosenData:chosenData,types:types,setViewMode:setViewMode,setKeywordDatas:setKeywordDatas,fetchCopy:fetchCopy,setLocationMax:setLocationMax,locations:locations,fetchNewType:fetchNewType,fetchDeleteData:fetchDeleteData,fetchDeleteType:fetchDeleteType}),/*#__PURE__*/_jsx(EditTable,{datas:datas,setDatas:setDatas,chosenData:chosenData,setChosenData:setChosenData,locations:locations,setLocations:setLocations,types:types,setTypes:setTypes,locationMax:locationMax,setLocationMax:setLocationMax,viewMode:viewMode,keywordDatas:keywordDatas,fetchRevise:fetchRevise,fetchNew:fetchNew})]});};export default EditPageContainer;","map":{"version":3,"names":["useState","useEffect","EditButtons","EditTable","EditPageContainer","initialDatas","eventName","typeId","yearMonthDay","startTime","endTime","locationId","cost","mood","country","city","street","building","initialLocations","initialTypes","typeName","viewMode","setViewMode","datas","setDatas","chosenData","setChosenData","locations","setLocations","types","setTypes","locationMax","setLocationMax","keywordDatas","setKeywordDatas","convertKeyName","json","forEach","data","oldKey","temp","split","newKey","toLocaleLowerCase","word","index","toUpperCase","slice","fetchDatas","fetch","errno","status","includes","fetchLocations","fetchTypes","console","log","fetchRevise","dataObj","method","headers","body","JSON","stringify","fetchNew","fetchCopy","fetchNewType","type","Type_id","fetchDeleteData","fetchDeleteType","deleteTypeId","max","location"],"sources":["C:/Users/user/Desktop/projects/Emotion_Diary/front-end/src/containers/EditPageContainer.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport EditButtons from \"../components/EditButtons\";\r\nimport EditTable from \"../components/EditTable\";\r\n\r\nconst EditPageContainer = () => {\r\n    const initialDatas = [\r\n        {\r\n            eventName: \"Apple\",\r\n            typeId: 1,\r\n            yearMonthDay: \"20200530\",\r\n            startTime: \"\",\r\n            endTime: \"\",\r\n            locationId: 0,\r\n            cost: 50,\r\n            mood: \"Happy\",\r\n            country: \"Taiwan\",\r\n            city: \"Taipei\",\r\n            street: \"BackStreet\",\r\n            building: \"\"\r\n        },\r\n        {\r\n            eventName: \"Banana\",\r\n            typeId: 2,\r\n            yearMonthDay: \"20210601\",\r\n            startTime: \"\",\r\n            endTime: \"\",\r\n            locationId: 1,\r\n            cost: 50,\r\n            mood: \"Happy\",\r\n            country: \"Taiwan\",\r\n            city: \"Taipei\",\r\n            street: \"BackStreet\",\r\n            building: \"\"\r\n        },\r\n        {\r\n            eventName: \"Candy\",\r\n            typeId: 3,\r\n            yearMonthDay: \"20220405\",\r\n            startTime: \"\",\r\n            endTime: \"\",\r\n            locationId: 2,\r\n            cost: 50,\r\n            mood: \"Happy\",\r\n            country: \"Taiwan\",\r\n            city: \"Taipei\",\r\n            street: \"BackStreet\",\r\n            building: \"\"\r\n        },\r\n        {\r\n            eventName: \"Dance\",\r\n            typeId: 4,\r\n            yearMonthDay: \"20220220\",\r\n            startTime: \"\",\r\n            endTime: \"\",\r\n            locationId: 3,\r\n            cost: 50,\r\n            mood: \"Happy\",\r\n            country: \"Taiwan\",\r\n            city: \"Taipei\",\r\n            street: \"BackStreet\",\r\n            building: \"\"\r\n        }\r\n    ];\r\n    const initialLocations = [\r\n        {\r\n            locationId: 0,\r\n            country: \"Taiwan\",\r\n            city: \"Taipei\",\r\n            street: \"BackStreet\",\r\n            building: \"\"\r\n        },\r\n        {\r\n            locationId: 1,\r\n            country: \"Taiwan\",\r\n            city: \"Taipei\",\r\n            street: \"BackStreet\",\r\n            building: \"\"\r\n        },\r\n        {\r\n            locationId: 2,\r\n            country: \"Taiwan\",\r\n            city: \"Taipei\",\r\n            street: \"BackStreet\",\r\n            building: \"\"\r\n        },\r\n        {\r\n            locationId: 3,\r\n            country: \"Taiwan\",\r\n            city: \"Taipei\",\r\n            street: \"BackStreet\",\r\n            building: \"\"\r\n        }\r\n    ]\r\n    const initialTypes = [{\r\n        typeId: 0,\r\n        typeName: \"emergency\"\r\n    },\r\n    {\r\n        typeId: 1,\r\n        typeName: \"school\"\r\n    },\r\n    {\r\n        typeId: 2,\r\n        typeName: \"work\"\r\n    },\r\n    {\r\n        typeId: 3,\r\n        typeName: \"food\"\r\n    }]\r\n    const [viewMode, setViewMode] = useState(\"normal\");\r\n    const [datas, setDatas] = useState([]);\r\n    const [chosenData, setChosenData] = useState({});\r\n    const [locations, setLocations] = useState([]);\r\n    const [types, setTypes] = useState([]);\r\n    const [locationMax, setLocationMax] = useState(-1);\r\n    const [keywordDatas, setKeywordDatas] = useState([]);\r\n\r\n    const convertKeyName = (json) => {\r\n        json.forEach(data => {\r\n            for (let oldKey in data) {\r\n                let temp;\r\n                temp = oldKey.split(\"_\");\r\n                let newKey = temp[0].toLocaleLowerCase();\r\n                temp.forEach((word, index) => {\r\n                    if (index > 0) {\r\n                        word = word[0].toUpperCase() + word.slice(1);\r\n                        newKey += word;\r\n                    }\r\n                });\r\n                data[newKey] = data[oldKey];\r\n            }\r\n        })\r\n    }\r\n\r\n    const fetchDatas = async () => {\r\n        try {\r\n            const data = await fetch(\"http://localhost:5000/view\");\r\n            const json = await data.json();\r\n            if ((json.errno || !json.status.includes(\"record\") && !json.status.includes(\"success\"))) {\r\n                throw json;\r\n            }\r\n            fetchLocations();\r\n            fetchTypes();\r\n            convertKeyName(json.data);\r\n            setDatas(json.data);\r\n            setViewMode(\"normal\");\r\n            return \"success\";\r\n        }\r\n        catch (err) {\r\n            console.log(\"err in fetching datas\", err);\r\n        }\r\n    }\r\n\r\n    const fetchRevise = async (dataObj) => {\r\n        try {\r\n            const data = await fetch(\"http://localhost:5000/revise_data\", {\r\n                method: \"put\",\r\n                headers: { 'content-type': 'application/json' },\r\n                body: JSON.stringify(dataObj)\r\n            });\r\n            const json = await data.json();\r\n            if ((json.errno || !json.status.includes(\"record\") && !json.status.includes(\"success\"))) {\r\n                throw json;\r\n            }\r\n            console.log(\"fetchRevise=\", json);\r\n            return \"success\";\r\n        }\r\n        catch (err) {\r\n            console.log(\"error in fetchRevise\", err);\r\n        }\r\n    }\r\n\r\n    const fetchNew = async (dataObj) => {\r\n        try {\r\n            const data = await fetch(\"http://localhost:5000/new_data\", {\r\n                method: 'post',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(dataObj)\r\n            });\r\n            const json = await data.json();\r\n            if ((json.errno || !json.status.includes(\"record\") && !json.status.includes(\"success\"))) {\r\n                throw json;\r\n            }\r\n            fetchDatas();\r\n            return \"success\";\r\n        }\r\n        catch (err) {\r\n            console.log(\"error in fetchNew\", err);\r\n        }\r\n    }\r\n\r\n    const fetchLocations = async () => {\r\n        try {\r\n            const data = await fetch(\"http://localhost:5000/location\");\r\n            const json = await data.json();\r\n            if ((json.errno || !json.status.includes(\"record\") && !json.status.includes(\"success\"))) {\r\n                throw json;\r\n            }\r\n            convertKeyName(json.data);\r\n            setLocations(json.data);\r\n            return \"success\";\r\n        }\r\n        catch (err) {\r\n            console.log(\"error in fetchLocations\", err);\r\n        }\r\n    }\r\n\r\n    const fetchTypes = async () => {\r\n        try {\r\n            const data = await fetch(\"http://localhost:5000/type\");\r\n            const json = await data.json();\r\n            if ((json.errno || !json.status.includes(\"record\") && !json.status.includes(\"success\"))) {\r\n                throw json;\r\n            }\r\n            convertKeyName(json.data);\r\n            setTypes(json.data);\r\n            return \"success\";\r\n        }\r\n        catch (err) {\r\n            console.log(\"error in fetchTypes\", err);\r\n        }\r\n    }\r\n\r\n    const fetchCopy = async (dataObj) => {\r\n        try {\r\n            const data = await fetch(\"http://localhost:5000/copy_data\", {\r\n                method: 'post',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(dataObj)\r\n            });\r\n            const json = await data.json();\r\n            if ((json.errno || !json.status.includes(\"record\") && !json.status.includes(\"success\"))) {\r\n                throw json;\r\n            }\r\n            fetchDatas();\r\n            return \"success\";\r\n        }\r\n        catch (err) {\r\n            console.log(\"error in fetchCopy\", err);\r\n        }\r\n    }\r\n\r\n    const fetchNewType = async (type) => {\r\n        try {\r\n            const data = await fetch(\"http://localhost:5000/new_type\", {\r\n                method: 'post',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ Type_id: type })\r\n            });\r\n            const json = await data.json();\r\n            if ((json.errno || !json.status.includes(\"record\") && !json.status.includes(\"success\"))) {\r\n                throw json;\r\n            }\r\n            fetchDatas();\r\n            return \"success\";\r\n        }\r\n        catch (err) {\r\n            console.log(\"error in fetchNewType\", err);\r\n        }\r\n    }\r\n\r\n    const fetchDeleteData = async (dataObj) => {\r\n        try {\r\n            const data = await fetch(\"http://localhost:5000/delete_data\", {\r\n                method: 'delete',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(dataObj)\r\n            });\r\n            const json = await data.json();\r\n            if ((json.errno || !json.status.includes(\"record\") && !json.status.includes(\"success\"))) {\r\n                throw json;\r\n            }\r\n            fetchDatas();\r\n            return \"success\";\r\n        }\r\n        catch (err) {\r\n            console.log(\"error in fetchCopy\", err);\r\n        }\r\n    }\r\n\r\n    const fetchDeleteType = async (deleteTypeId) => {\r\n        try {\r\n            const data = await fetch(`http://localhost:5000/delete_type/${deleteTypeId}`, {\r\n                method: 'delete',\r\n                headers: { 'Content-Type': 'application/json' }\r\n            });\r\n            const json = await data.json();\r\n            if ((json.errno || !json.status.includes(\"record\") && !json.status.includes(\"success\"))) {\r\n                throw json;\r\n            }\r\n            fetchDatas();\r\n            return \"success\";\r\n        }\r\n        catch (err) {\r\n            console.log(\"error in fetchDeleteType\", err);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchDatas();\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        setChosenData({});\r\n    }, [datas])\r\n\r\n    useEffect(() => {\r\n        let max = -1;\r\n        locations.forEach((location) => max = location.locationId > max ? location.locationId : max);\r\n        if (max >= 0) {\r\n            setLocationMax(max);\r\n        }\r\n    }, [locations])\r\n\r\n    return (\r\n        <div>\r\n            <EditButtons datas={datas} chosenData={chosenData} types={types} setViewMode={setViewMode} setKeywordDatas={setKeywordDatas} fetchCopy={fetchCopy} setLocationMax={setLocationMax} locations={locations} fetchNewType={fetchNewType} fetchDeleteData={fetchDeleteData} fetchDeleteType={fetchDeleteType} />\r\n            <EditTable datas={datas} setDatas={setDatas} chosenData={chosenData} setChosenData={setChosenData} locations={locations} setLocations={setLocations} types={types} setTypes={setTypes} locationMax={locationMax} setLocationMax={setLocationMax} viewMode={viewMode} keywordDatas={keywordDatas} fetchRevise={fetchRevise} fetchNew={fetchNew} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditPageContainer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}